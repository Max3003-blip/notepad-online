<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fancy Online Notepad</title>
  <meta name="description" content="Feature-rich online notepad with autosave, dark mode, formatting options, and word counter. Built by Max.">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f8ff;
      margin: 0;
      padding: 0;
      transition: background 0.3s, color 0.3s;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 25px;
      background-color: #007bff;
      color: white;
      font-size: 14px;
      min-height: 40px;
      position: relative;
    }

    #quote {
      flex: 1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    #datetime {
      flex-shrink: 0;
      position: absolute;
      right: 25px;
    }

    .container {
      max-width: 90vw;
      margin: 20px auto;
      background: #ffffff;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      border: 3px solid #007bff;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #333;
      font-size: 2rem;
    }

    .toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 15px;
      justify-content: center;
    }

    select, button {
      padding: 8px 12px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 8px;
      cursor: pointer;
    }

    .editor {
      min-height: 400px;
      padding: 20px;
      border: 2px solid #ccc;
      border-radius: 12px;
      font-size: 16px;
      outline: none;
      overflow-y: auto;
    }

    .buttons {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 25px;
    }

    .buttons button {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      transition: background-color 0.2s;
    }

    .buttons button:hover {
      background-color: #0056b3;
    }

    #counter {
      text-align: center;
      margin-top: 15px;
      font-size: 14px;
      color: #555;
    }

    .saved {
      text-align: center;
      font-size: 14px;
      color: gray;
      margin-top: 10px;
    }

    .saved-msg {
      text-align: center;
      color: green;
      font-size: 13px;
      display: none;
      margin-top: 5px;
      transition: opacity 0.3s;
    }

    footer {
      text-align: center;
      font-size: 13px;
      color: gray;
      margin-top: 30px;
    }

    /* Dark Mode */
    body.dark {
      background: #1e1e1e;
      color: #ffffff;
    }

    body.dark .container {
      background: #2a2a2a;
      border-color: #00bfff;
    }

    body.dark .editor {
      background: #1e1e1e;
      color: #ffffff;
      border-color: #444;
    }

    body.dark .top-bar {
      background-color: #00bfff;
    }
  </style>
</head>
<body>

  <div class="top-bar">
    <div id="quote">Loading quote...</div>
    <div id="datetime">--:--</div>
  </div>

  <div style="text-align: right; margin: 10px 30px;">
    <label style="font-size: 14px;">
      <input type="checkbox" id="darkToggle" />
      Dark Mode
    </label>
  </div>

  <div class="container">
    <h1>Fancy Online Notepad</h1>

    <div class="toolbar">
      <select id="fontSelect">
        <option value="Arial">Arial</option>
        <option value="Courier New">Courier New</option>
        <option value="Georgia">Georgia</option>
        <option value="Times New Roman">Times New Roman</option>
        <option value="Verdana">Verdana</option>
      </select>
      <select id="fontSizeSelect">
        <option value="14px">Small</option>
        <option value="18px" selected>Medium</option>
        <option value="22px">Large</option>
        <option value="28px">Extra Large</option>
      </select>
      <button onclick="formatText('underline')">Underline</button>
      <button onclick="formatText('insertUnorderedList')">Bullet List</button>
      <button onclick="document.execCommand('undo')">Undo</button>
      <button onclick="document.execCommand('redo')">Redo</button>
    </div>

    <div id="editor" class="editor" contenteditable="true" spellcheck="true"></div>

    <p id="counter">Words: 0 | Characters: 0</p>

    <div class="buttons">
      <button onclick="copyText()">Copy</button>
      <button onclick="clearText()">Clear</button>
      <button onclick="downloadText()">Download</button>
    </div>

    <p class="saved">Autosaved to your browser</p>
    <p id="autosaveStatus" class="saved-msg">Saved!</p>
  </div>

  <footer>
    Built by Max
  </footer>

  <script>
    const editor = document.getElementById("editor");
    const counter = document.getElementById("counter");
    const datetime = document.getElementById("datetime");
    const quote = document.getElementById("quote");
    const autosaveStatus = document.getElementById("autosaveStatus");
    const darkToggle = document.getElementById("darkToggle");
    const fontSelect = document.getElementById("fontSelect");
    const fontSizeSelect = document.getElementById("fontSizeSelect");

    const quotes = [
      "Believe in yourself and all that you are.",
      "Start where you are. Use what you have. Do what you can.",
      "Push yourself, because no one else is going to do it for you.",
      "You’re capable of amazing things.",
      "Success doesn't come from what you do occasionally, it comes from what you do consistently.",
      "Work hard in silence. Let your success make the noise.",
      "Don’t watch the clock; do what it does. Keep going."
    ];

    function animateQuote(text) {
      quote.textContent = "";
      let i = 0;
      const typing = setInterval(() => {
        if (i < text.length) {
          quote.textContent += text.charAt(i);
          i++;
        } else {
          clearInterval(typing);
        }
      }, 40);
    }

    function showQuote() {
      const random = Math.floor(Math.random() * quotes.length);
      animateQuote(quotes[random]);
    }

    function showDateTime() {
      const now = new Date();
      const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
      const formatted = now.toLocaleDateString(undefined, options);
      const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
      datetime.textContent = `${formatted} — ${time}`;
    }

    function updateCounter() {
      const text = editor.innerText.trim();
      const wordCount = text === "" ? 0 : text.split(/\s+/).length;
      const charCount = text.length;
      counter.textContent = `Words: ${wordCount} | Characters: ${charCount}`;
    }

    function showSavedStatus() {
      autosaveStatus.style.display = "block";
      autosaveStatus.style.opacity = 1;
      setTimeout(() => {
        autosaveStatus.style.opacity = 0;
        setTimeout(() => {
          autosaveStatus.style.display = "none";
        }, 300);
      }, 1000);
    }

    function copyText() {
      const range = document.createRange();
      range.selectNodeContents(editor);
      const selection = window.getSelection();
      selection.removeAllRanges();
      selection.addRange(range);
      document.execCommand("copy");
      alert("Copied to clipboard!");
    }

    function clearText() {
      if (confirm("Are you sure you want to clear your note?")) {
        editor.innerHTML = "";
        localStorage.removeItem("richNote");
        updateCounter();
        showSavedStatus();
      }
    }

    function downloadText() {
      const text = editor.innerText;
      const blob = new Blob([text], { type: "text/plain" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "note.txt";
      link.click();
    }

    function formatText(command) {
      document.execCommand(command);
    }

    fontSelect.addEventListener("change", () => {
      editor.style.fontFamily = fontSelect.value;
    });

    fontSizeSelect.addEventListener("change", () => {
      editor.style.fontSize = fontSizeSelect.value;
    });

    editor.addEventListener("input", () => {
      localStorage.setItem("richNote", editor.innerHTML);
      updateCounter();
      showSavedStatus();
    });

    window.onload = () => {
      const saved = localStorage.getItem("richNote");
      if (saved) editor.innerHTML = saved;
      updateCounter();
      showQuote();
      showDateTime();

      const savedMode = localStorage.getItem("darkMode");
      if (savedMode === "enabled") {
        document.body.classList.add("dark");
        darkToggle.checked = true;
      }
    };

    darkToggle.addEventListener("change", () => {
      document.body.classList.toggle("dark");
      localStorage.setItem("darkMode", document.body.classList.contains("dark") ? "enabled" : "disabled");
    });
  </script>

</body>
</html>
